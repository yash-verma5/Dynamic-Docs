"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[978],{702(e,t,n){n.r(t),n.d(t,{assets:()=>q,contentTitle:()=>B,default:()=>F,frontMatter:()=>M,metadata:()=>r,toc:()=>N});const r=JSON.parse('{"type":"mdx","permalink":"/Dynamic-Docs/adoc-webhooks","source":"@site/src/pages/adoc-webhooks.md","title":"ADOC Webhook Integration Architecture","description":"Date: 2026-02-07","frontMatter":{},"unlisted":false}');var s=n(4848),i=n(8453),a=n(6540),l=n(4164),o=n(7559),d=n(3104),c=n(6347),h=n(205),u=n(7485),p=n(1682),m=n(679);function x(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function g(e){const{values:t,children:n}=e;return(0,a.useMemo)(()=>{const e=t??function(e){return x(e).map(({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r}))}(n);return function(e){const t=(0,p.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function y({value:e,tabValues:t}){return t.some(t=>t.value===e)}function j({queryString:e=!1,groupId:t}){const n=(0,c.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,u.aZ)(r),(0,a.useCallback)(e=>{if(!r)return;const t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})},[r,n])]}function v(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,s=g(e),[i,l]=(0,a.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!y({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s})),[o,d]=j({queryString:n,groupId:r}),[c,u]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,r]=(0,m.Dv)(t);return[n,(0,a.useCallback)(e=>{t&&r.set(e)},[t,r])]}({groupId:r}),p=(()=>{const e=o??c;return y({value:e,tabValues:s})?e:null})();(0,h.A)(()=>{p&&l(p)},[p]);return{selectedValue:i,selectValue:(0,a.useCallback)(e=>{if(!y({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),u(e)},[d,u,s]),tabValues:s}}var f=n(2303);const b="tabList__CuJ",S="tabItem_LNqP";function D({className:e,block:t,selectedValue:n,selectValue:r,tabValues:i}){const a=[],{blockElementScrollPositionUntilNextRender:o}=(0,d.a_)(),c=e=>{const t=e.currentTarget,s=a.indexOf(t),l=i[s].value;l!==n&&(o(t),r(l))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=a.indexOf(e.currentTarget)+1;t=a[n]??a[0];break}case"ArrowLeft":{const n=a.indexOf(e.currentTarget)-1;t=a[n]??a[a.length-1];break}}t?.focus()};return(0,s.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":t},e),children:i.map(({value:e,label:t,attributes:r})=>(0,s.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{a.push(e)},onKeyDown:h,onClick:c,...r,className:(0,l.A)("tabs__item",S,r?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function A({lazy:e,children:t,selectedValue:n}){const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===n);return e?(0,a.cloneElement)(e,{className:(0,l.A)("margin-top--md",e.props.className)}):null}return(0,s.jsx)("div",{className:"margin-top--md",children:r.map((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function E(e){const t=v(e);return(0,s.jsxs)("div",{className:(0,l.A)(o.G.tabs.container,"tabs-container",b),children:[(0,s.jsx)(D,{...t,...e}),(0,s.jsx)(A,{...t,...e})]})}function O(e){const t=(0,f.A)();return(0,s.jsx)(E,{...e,children:x(e.children)},String(t))}const I="tabItem_Ymn6";function w({children:e,hidden:t,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,l.A)(I,n),hidden:t,children:e})}var P=n(8149);const k={ORDER_APPROVED:{label:"Order Approved",description:"Full snapshot of the order sent when status changes to APPROVED.",template:(e,t)=>({event_id:`evt_${t}`,event_type:"ORDER_APPROVED",order_id:e,timestamp:(new Date).toISOString(),payload:{order_name:"10001",grand_total:150,currency:"USD",items:[{sku:"10001",quantity:1,unit_price:50},{sku:"10002",quantity:2,unit_price:50}]}})},ITEM_BROKERED:{label:"Item Brokered",description:"Delta update sent when an item is assigned to a facility.",template:(e,t)=>({event_id:`evt_${t}`,event_type:"ITEM_BROKERED",order_id:e,timestamp:(new Date).toISOString(),payload:{item_seq_id:"00101",facility_id:"FAC_NY_01",status:"BROKERED"}})},ITEM_SHIPPED:{label:"Item Shipped",description:"Delta update sent when a shipment is packed and shipped.",template:(e,t)=>({event_id:`evt_${t}`,event_type:"ITEM_SHIPPED",order_id:e,timestamp:(new Date).toISOString(),payload:{shipment_id:"SHP_999",tracking_code:"1Z9999999999999999",carrier:"UPS",items:[{sku:"10001",quantity:1}]}})},ORDER_COMPLETED:{label:"Order Completed",description:"Full snapshot sent when the order is completed.",template:(e,t)=>({event_id:`evt_${t}`,event_type:"ORDER_COMPLETED",order_id:e,timestamp:(new Date).toISOString(),payload:{order_name:"10001",status:"COMPLETED",final_adjustment:0,items:[{sku:"10001",quantity:1,status:"COMPLETED"},{sku:"10002",quantity:2,status:"COMPLETED"}]}})}};function C(){const[e,t]=(0,a.useState)("ORDER_APPROVED"),[n,r]=(0,a.useState)("ORD-2024-001"),i=k[e],l=JSON.stringify(i.template(n,Date.now()),null,2);return(0,s.jsxs)("div",{style:{border:"1px solid var(--ifm-color-emphasis-200)",borderRadius:"8px",padding:"16px",marginBottom:"16px"},children:[(0,s.jsx)("h3",{children:"Webhook Simulator"}),(0,s.jsx)("p",{children:"Select an event type to see the generated JSON structure."}),(0,s.jsxs)("div",{style:{display:"flex",gap:"16px",marginBottom:"16px",flexWrap:"wrap"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"4px",fontWeight:"bold"},children:"Event Type:"}),(0,s.jsx)("select",{value:e,onChange:e=>t(e.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid var(--ifm-color-gray-300)"},children:Object.keys(k).map(e=>(0,s.jsx)("option",{value:e,children:k[e].label},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"4px",fontWeight:"bold"},children:"Order ID:"}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid var(--ifm-color-gray-300)"}})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",background:"var(--ifm-background-color)",borderRadius:"4px",borderLeft:"4px solid var(--ifm-color-primary)"},children:[(0,s.jsx)("strong",{children:"Description:"})," ",i.description]}),(0,s.jsx)(P.A,{language:"json",title:"Generated Payload",children:l})]})}n(7293);var T=n(8478);function R(){return(0,s.jsx)("button",{onClick:async()=>{const e=(await n.e(3833).then(n.t.bind(n,3833,23))).default,t=document.getElementById("printable-content");e().set({margin:10,filename:"adoc-webhook-integration.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(t).save()},className:"button button--primary",style:{float:"right",marginLeft:"10px",marginBottom:"10px"},children:"Download Report PDF"})}function _(){return(0,s.jsx)(T.A,{children:()=>(0,s.jsx)(R,{})})}const M={},B="ADOC Webhook Integration Architecture",q={},N=[{value:"1. Executive Summary",id:"1-executive-summary",level:2},{value:"2. High-Level Architecture",id:"2-high-level-architecture",level:2},{value:"3. Core Design Decisions",id:"3-core-design-decisions",level:2},{value:"A. The &quot;Base Payload&quot; Pattern (Reliability &amp; Consistency)",id:"a-the-base-payload-pattern-reliability--consistency",level:3},{value:"B. Asynchronous Processing (Performance)",id:"b-asynchronous-processing-performance",level:3},{value:"C. Snapshot vs. Delta Strategy (Data Precision)",id:"c-snapshot-vs-delta-strategy-data-precision",level:3},{value:"D. Idempotency &amp; Tracing",id:"d-idempotency--tracing",level:3},{value:"4. Security &amp; Error Handling",id:"4-security--error-handling",level:2},{value:"Authentication",id:"authentication",level:3},{value:"Failure Recovery",id:"failure-recovery",level:3},{value:"5. Event Specifications &amp; Simulator",id:"5-event-specifications--simulator",level:2},{value:"Detailed Triggers",id:"detailed-triggers",level:3},{value:"Scenario 6: Item Brokered Sequence (Example)",id:"scenario-6-item-brokered-sequence-example",level:3},{value:"7. Data Model Relationship",id:"7-data-model-relationship",level:2},{value:"8. Implementation Plan Summary",id:"8-implementation-plan-summary",level:2}];function V(e){const t={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"adoc-webhook-integration-architecture",children:"ADOC Webhook Integration Architecture"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Date:"})," 2026-02-07",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.strong,{children:"Prepared For:"})," ADOC Integration Stakeholders"]}),"\n",(0,s.jsx)(t.admonition,{title:"Interactive Guide",type:"info",children:(0,s.jsx)(t.p,{children:"This documentation includes interactive elements to help you understand the webhook payload structures and event flows."})}),"\n",(0,s.jsx)(_,{}),"\n",(0,s.jsxs)("div",{id:"printable-content",children:[(0,s.jsx)(t.h2,{id:"1-executive-summary",children:"1. Executive Summary"}),(0,s.jsxs)(t.p,{children:["This document outlines the architecture for a real-time webhook integration between ",(0,s.jsx)(t.strong,{children:"HotWax OMS"})," and ",(0,s.jsx)(t.strong,{children:"ADOC's Data Warehouse"}),". The goal is to provide ADOC with immediate visibility into order lifecycle events (Approvals, Shipments, Rejections) without impacting OMS performance."]}),(0,s.jsxs)(t.p,{children:["We utilize the ",(0,s.jsx)(t.strong,{children:"Moqui SystemMessage Framework"})," to ensure high reliability, automatic retries, and comprehensive audit trails."]}),(0,s.jsx)(t.hr,{}),(0,s.jsx)(t.h2,{id:"2-high-level-architecture",children:"2. High-Level Architecture"}),(0,s.jsx)(t.p,{children:'The system acts as a "News Reporter," listening for key business events and dispatching JSON reports to ADOC asynchronously.'}),(0,s.jsx)(t.mermaid,{value:'graph TD\n    subgraph "HotWax OMS (Source)"\n        DB[(Database)]\n        SECA[Event Listener]\n        Service[Payload Builder]\n        Queue[Async Queue]\n    end\n    \n    subgraph "Secure Transport"\n        Sender[Custom HTTP Sender]\n    end\n    \n    subgraph "ADOC System (Destination)"\n        API[Webhook Receiver]\n    end\n\n    DB --\x3e|Status Change| SECA\n    SECA --\x3e|Trigger| Service\n    Service --\x3e|Construct JSON| Queue\n    Queue -.->|Async Pick-up| Sender\n    Sender --\x3e|POST + API Key| API'}),(0,s.jsx)(t.hr,{}),(0,s.jsx)(t.h2,{id:"3-core-design-decisions",children:"3. Core Design Decisions"}),(0,s.jsx)(t.h3,{id:"a-the-base-payload-pattern-reliability--consistency",children:'A. The "Base Payload" Pattern (Reliability & Consistency)'}),(0,s.jsxs)(t.p,{children:["Every single event sent to ADOC requires a standard set of 9 contextual fields (Order Name, Brand, Price, Currency, etc.). To guarantee 100% consistency and eliminate code duplication, we implemented a ",(0,s.jsx)(t.strong,{children:"Base Payload Service"}),"."]}),(0,s.jsx)(t.admonition,{title:"Business Value",type:"tip",children:(0,s.jsx)(t.p,{children:"Ensures that Financials and Customer Context are identical across all event types, reducing reconciliation errors."})}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"How it works"}),": Every event service (Approved, Shipped, etc.) first calls ",(0,s.jsx)(t.code,{children:"prepare#OrderBasePayload"})," to fetch the common data, then adds its specific details."]}),"\n"]}),(0,s.jsx)(t.h3,{id:"b-asynchronous-processing-performance",children:"B. Asynchronous Processing (Performance)"}),(0,s.jsxs)(t.p,{children:["We invoke the webhook logic ",(0,s.jsx)(t.strong,{children:"asynchronously"})," via Moqui's ",(0,s.jsx)(t.code,{children:"SystemMessage"})," queue."]}),(0,s.jsx)(t.admonition,{title:"Design Decision",type:"note",children:(0,s.jsx)(t.p,{children:"Do not block the user interface while waiting for ADOC's response. If ADOC is slow or down, the Warehouse Staff can continue working without interruption. The system will retry sending the message in the background."})}),(0,s.jsx)(t.h3,{id:"c-snapshot-vs-delta-strategy-data-precision",children:"C. Snapshot vs. Delta Strategy (Data Precision)"}),(0,s.jsx)(t.p,{children:"The ADOC API expects a uniform JSON structure, but the business meaning differs by event. We use two main strategies:"}),(0,s.jsxs)(O,{children:[(0,s.jsxs)(w,{value:"snapshot",label:"Full Snapshot",default:!0,children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Used for:"})," ",(0,s.jsx)(t.code,{children:"Order Approved"}),", ",(0,s.jsx)(t.code,{children:"Order Completed"})]}),(0,s.jsxs)(t.p,{children:["Sends ",(0,s.jsx)(t.strong,{children:"ALL"}),' items in the order. This acts as the "State of the Union" for the order.']}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Pros"}),": Complete picture, self-healing if previous messages were lost."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Cons"}),": Larger payload size."]}),"\n"]})]}),(0,s.jsxs)(w,{value:"delta",label:"Delta Update",children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Used for:"})," ",(0,s.jsx)(t.code,{children:"Item Brokered"}),", ",(0,s.jsx)(t.code,{children:"Item Rejected"}),", ",(0,s.jsx)(t.code,{children:"Item Shipped"})]}),(0,s.jsxs)(t.p,{children:["Sends ",(0,s.jsx)(t.strong,{children:"ONLY"})," the specific item(s) that changed state."]}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Pros"}),": Lightweight, precise tracking of individual item movements."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Cons"}),": Requires receiver to maintain state."]}),"\n"]})]})]}),(0,s.jsx)(t.h3,{id:"d-idempotency--tracing",children:"D. Idempotency & Tracing"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Event ID"}),": We map the Moqui ",(0,s.jsx)(t.code,{children:"systemMessageId"})," directly to the ",(0,s.jsx)(t.code,{children:"event_id"})," field in the JSON."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Benefit"}),": This guarantees a globally unique ID for every attempt. If we retry a failed message, the ID remains the same, allowing ADOC to safely de-duplicate."]}),"\n"]}),(0,s.jsx)(t.hr,{}),(0,s.jsx)(t.h2,{id:"4-security--error-handling",children:"4. Security & Error Handling"}),(0,s.jsx)(t.h3,{id:"authentication",children:"Authentication"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Mechanism"}),": API Key via ",(0,s.jsx)(t.code,{children:"x-api-key"})," header."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Storage"}),": The key is stored in the ",(0,s.jsx)(t.strong,{children:"Encrypted"})," ",(0,s.jsx)(t.code,{children:"password"})," field of the ",(0,s.jsx)(t.code,{children:"SystemMessageRemote"})," entity. It is never exposed in logs or plain text."]}),"\n"]}),(0,s.jsx)(t.h3,{id:"failure-recovery",children:"Failure Recovery"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Scenario"}),": ADOC API returns ",(0,s.jsx)(t.code,{children:"500 Error"})," or times out."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Response"}),": The system marks the message as ",(0,s.jsx)(t.code,{children:"Error"}),". Moqui's ",(0,s.jsx)(t.code,{children:"SystemMessage"})," service automatically retries the delivery on a scheduled interval (Exponential Backoff)."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Alerting"}),": Failures are logged in ",(0,s.jsx)(t.code,{children:"SystemMessageError"})," for administrator review."]}),"\n"]}),(0,s.jsx)(t.hr,{}),(0,s.jsx)(t.h2,{id:"5-event-specifications--simulator",children:"5. Event Specifications & Simulator"}),(0,s.jsx)(t.p,{children:"Use the interactive simulator below to understand the JSON structure for different event types."}),(0,s.jsx)(C,{}),(0,s.jsx)(t.h3,{id:"detailed-triggers",children:"Detailed Triggers"}),(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:"Click to see detailed trigger logic"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Event"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Status Change Trigger"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Payload Focus"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Order Approved"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"ORDER_APPROVED"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Full Order + All Items"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Item Brokered"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Item Assigned to Facility"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Single Item + ",(0,s.jsx)(t.code,{children:"facility_id"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Item Rejected"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Item Rejected"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Single Item + ",(0,s.jsx)(t.code,{children:"reason"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Item Shipped"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Shipment ",(0,s.jsx)(t.code,{children:"PACKED"})," -> ",(0,s.jsx)(t.code,{children:"SHIPPED"})]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Shipped Items + ",(0,s.jsx)(t.code,{children:"tracking_code"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Order Completed"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"ORDER_COMPLETED"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Full Order (Final State)"})]})]})]})]}),(0,s.jsx)(t.h3,{id:"scenario-6-item-brokered-sequence-example",children:"Scenario 6: Item Brokered Sequence (Example)"}),(0,s.jsx)(t.p,{children:'This diagram shows the "Delta" logic where only ONE item is processed.'}),(0,s.jsx)(t.mermaid,{value:"sequenceDiagram\n    participant User as Store Associate\n    participant DB as OMS Database\n    participant Service as OrderItemPayload\n    participant ADOC as ADOC System\n\n    User->>DB: Re-route Item 001 to Facility B\n    DB->>Service: Trigger ItemBrokered Event\n    \n    rect rgb(240, 248, 255)\n        note right of Service: Delta Preparation\n        Service->>Service: Fetch Base Payload (Customer/Total)\n        Service->>Service: Fetch ONLY Item 001 Details\n        Service->>Service: Build JSON { items: [Item 001] }\n    end\n    \n    Service->>ADOC: Send One-Item Payload\n    ADOC--\x3e>Service: 200 OK"}),(0,s.jsx)(t.hr,{}),(0,s.jsx)(t.h2,{id:"7-data-model-relationship",children:"7. Data Model Relationship"}),(0,s.jsx)(t.p,{children:"How the System Message components interact with your Orders."}),(0,s.jsx)(t.mermaid,{value:'erDiagram\n    SystemMessageRemote ||--|{ SystemMessageType : defines\n    SystemMessageType ||--|{ SystemMessage : creates\n    OrderHeader ||--|{ SystemMessage : triggers\n    \n    SystemMessageRemote {\n        string sendUrl "https://api..."\n        string password "Encrypted API Key"\n    }\n\n    SystemMessageType {\n        string systemMessageTypeId "AdocOrderApproved"\n        string sendServiceName "send#AdocSystemMessage"\n    }\n\n    SystemMessage {\n        string messageText "JSON Payload"\n        string statusId "Produced/Sent/Error"\n        string remoteMessageId "Event ID"\n    }'}),(0,s.jsx)(t.h2,{id:"8-implementation-plan-summary",children:"8. Implementation Plan Summary"}),(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Configure Environment"}),": Set up ADOC Remote Connection & API Key."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Develop Services"}),": Implement Base Payload and 4 Event-Specific Builders."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Deploy Triggers"}),": Activate SECA rules for live monitoring."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Verify"}),": End-to-End testing with Mock Endpoint."]}),"\n"]}),(0,s.jsx)(t.admonition,{title:"Architecture Approved",type:"success",children:(0,s.jsx)(t.p,{children:"Ready for Implementation."})})]})]})}function F(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(V,{...e})}):V(e)}}}]);